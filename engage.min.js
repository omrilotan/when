var engage=function(){"use strict";var t={},n=function(n){n=n.toLowerCase();if(!t[n]){t[n]=new r(n)}return t[n]},r=function(t){this.name=t;this.hasPlayed=false;this.listeners=[];return this};r.prototype={listen:function(t){if(this.listeners.indexOf(t)===-1){this.listeners.push(t)}return this},unlisten:function(t){while(this.listeners.indexOf(t)!==-1){this.listeners.splice(this.listeners.indexOf(t),1)}return this},once:function(t){var n=this;if(this.hasPlayed===true){t.call(null,{name:n.name,data:null})}else{this.listen(function(r){t.call(null,{name:n.name,data:r});n.unlisten(t)})}return this},emit:function(t){var n=typeof t==="object"?t:{};n.name=this.name;this.listeners.forEach(function(t){t.call(null,n)});this.hasPlayed=true;return this},renew:function(){this.hasPlayed=false;return this}};n.list=function(){var n=[],r;for(r in t){if(t.hasOwnProperty(r)){n.push(r)}}return n};return n}();